{"version":3,"sources":["svg/king.svg","svg/king_w.svg","NameForm.js","LobbyBrowser/LobbyBrowser.js","Lobby/PlayersList.js","Lobby/Lobby.js","Game/ChessBoard.js","Game/Game.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","NameForm","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","value","handleChange","bind","assertThisInitialized","handleSubmit","event","setState","target","onRegister","preventDefault","react_default","a","createElement","id","class","onSubmit","type","onChange","placeholder","React","Component","LobbyBrowser","handleCreateLobby","handleJoinLobby","onCreateLobby","onJoinLobby","onClick","PlayerList","Lobby","client","players","lobbyInfo","creator","chooseRolHandler","startGameHandler","rol","_this2","chooseRol","then","_ref","_this3","startGame","info","onGameStart","_this4","addEventListener","_ref2","players_black","filter","player","map","name","players_white","players_spectate","src","king","IamCreator","king_w","pieceMapping","r","n","b","q","k","ChessBoard","handleCheckMoves","handleMove","position","onCheckMoves","destination","onMove","cells","Array","i","j","cellColor","style","gridColumn","concat","gridRow","pieces","piece","column","square","charCodeAt","row","color","verbose","moves","move","coord","to","zIndex","key","Game","gameState","gameInfo","console","log","selected","from","Game_ChessBoard","App","status","handleRegister","handleGameStart","user","register","response","window","leave","catch","lobbyName","createLobby","joinLobby","_ref3","src_NameForm","src_LobbyBrowser_LobbyBrowser","src_Lobby_Lobby","src_Game_Game","FakeChess","Proxy","Chess","construct","Target","args","myFake","esm_construct","toConsumableArray","SQUARES","get","UmpireClient","url","WSConstructor","WebSocket","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.de9c1c16.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/king.c69f5f50.svg\";","module.exports = __webpack_public_path__ + \"static/media/king_w.fef8c091.svg\";","import React from 'react';\n\nclass NameForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {value: ''};\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({value: event.target.value});\n  }\n\n  handleSubmit(event) {\n    this.props.onRegister(this.state.value)\n    event.preventDefault();\n  }\n\n  render() {\n    return (\n      <div id=\"registration\">\n        <form class=\"smallForm loginForm\" onSubmit={this.handleSubmit}>\n          <input \n            type=\"text\" \n            class=\"inputText\" \n            value={this.state.value} \n            onChange={this.handleChange}\n            placeholder=\"Player Name\"\n          />\n          <input \n            type=\"submit\"\n            class=\"boton\"\n            value=\"Join Server\" />\n        </form>\n      </div>      \n    );  \n  }\n}\n\nexport default NameForm;\n","import React from 'react';\n\nclass LobbyBrowser extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {value: ''};\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleCreateLobby = this.handleCreateLobby.bind(this);\n    this.handleJoinLobby = this.handleJoinLobby.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({value: event.target.value});\n  }\n\n  handleCreateLobby(event) {\n    this.props.onCreateLobby(this.state.value)\n    event.preventDefault();\n  }\n\n  handleJoinLobby(event) {\n    this.props.onJoinLobby(this.state.value)\n    event.preventDefault();\n  }\n\n  render() {\n    return (\n      <div>\n        <h2>Lobby Browser</h2>\n        \n        <div class=\"smallForm\">\n          <input \n            type=\"text\"\n            class=\"inputText\"\n            placeholder=\"lobby name\"\n            value={this.state.value} \n            onChange={this.handleChange} />                       \n          <button \n            class=\"boton\"\n            onClick={this.handleCreateLobby}> \n            Create </button>\n          <button \n            class=\"boton\"\n            onClick={this.handleJoinLobby}> \n            Join </button>\n        </div>\n      </div>\n      \n    );  \n  }\n}\n\nexport default LobbyBrowser;\n","import React from 'react';\nimport PlayerDetail from './PlayerDetail'\n\nfunction PlayerList(props) {\n  let playerList = props.players.map((player) =>\n    <PlayerDetail \n      key={player.name}\n      name={player.name}\n      rol={player.rol}\n      me={player.me}\n      onChooseRol={props.onChooseRol}/>\n  )\n  return <div>{playerList}</div>;\n}\n\nexport default PlayerList;","import React from 'react';\nimport PlayersList from './PlayersList';\nimport '../styles/lobby.css'\nimport king from '../svg/king.svg'\nimport king_w from '../svg/king_w.svg'\n\nclass Lobby extends React.Component {\n  constructor(props) {\n    super(props);\n    this.client = this.props.client\n  \n    this.state = { \n      players: this.props.lobbyInfo.players,\n      creator: this.props.lobbyInfo.creator\n    };\n\n    this.chooseRolHandler = this.chooseRolHandler.bind(this)\n    this.startGameHandler = this.startGameHandler.bind(this)\n  }\n\n  chooseRolHandler(rol){\n    this.client.chooseRol(rol).then(({lobbyInfo: {players}}) => {\n      this.setState({\n        players\n      })\n    })\n  }\n\n  startGameHandler(){\n    this.client.startGame().then((info) => {\n      this.props.onGameStart(info)\n    })\n  }\n\n  componentDidMount(){\n    this.client.addEventListener('LOBBY-UPDATE', ({lobbyInfo}) => {\n      this.setState({\n        players: lobbyInfo.players\n      })\n    })\n\n    this.client.addEventListener('GAME-START', (lobbyInfo) => {\n      this.props.onGameStart(lobbyInfo)\n    })\n  }\n\n  render() { \n\n    let players_black = this.state.players.filter((player) => player.rol === 'b').map((player) => \n      <h2>{player.name}</h2>\n    )\n\n    let players_white = this.state.players.filter((player) => player.rol === 'w').map((player) => \n      <h2>{player.name}</h2>\n    )\n\n    let players_spectate = this.state.players.filter((player) => !player.rol).map((player) => \n    <h2>{player.name}</h2>\n  )\n\n    return (\n      <div id=\"lobby\">\n        <div class=\"lobby-side\"> \n          <img \n            class=\"lobby-piece\"\n            src={king}\n            onClick={this.chooseRolHandler.bind(null, 'b')}></img>\n          <div\n            class=\"lobby-player-list\">\n            {players_black}\n          </div>          \n        </div>\n        <div id=\"lobby-middle\">\n          {this.props.IamCreator && \n            <button\n              id=\"start-game\"\n              class=\"boton\"\n              onClick={this.startGameHandler}>Start Game!</button>}\n          <div class=\"lobby-player-list\">\n            {players_spectate}\n          </div>                              \n        </div>\n        <div class=\"lobby-side\"> \n          <img \n            class=\"lobby-piece\"\n            src={king_w}\n            onClick={this.chooseRolHandler.bind(null, 'w')}></img>\n          <div\n            class=\"lobby-player-list\">\n            {players_white}\n          </div>\n        </div>\n      </div>      \n    );  \n  }\n}\n\nexport default Lobby;\n","import React from 'react';\nimport '../styles/chessboard.css'\n\nconst pieceMapping = {\n  'r': '♜',\n  'n': '♞',\n  'b': '♝',\n  'q': '♛',\n  'k': '♚',\n  'p': '♟'\n}\n\n/**\n * Given a coordinate, returns the chess representation ((1,1) => 'a8')\n * @param {number} column \n * @param {number} row \n * @returns {string}\n */\nfunction coordsToChess(column, row) {\n  let newColumn = String.fromCharCode('a'.charCodeAt(0) + column)\n  let newRow = Math.abs(row-9)\n  return newColumn + newRow;\n}\n\nfunction chessToCoords(position){\n  let column = position.charCodeAt(0) - 'a'.charCodeAt(0) + 1;\n  let row = '9'.charCodeAt(0) - position.charCodeAt(1);\n  return {column, row};\n}\n\nclass ChessBoard extends React.Component {\n  constructor(props) {\n    super(props)\n    this.handleCheckMoves = this.handleCheckMoves.bind(this)\n    this.handleMove = this.handleMove.bind(this)\n  }\n\n  handleCheckMoves(position){    \n    this.props.onCheckMoves(position)\n  }\n\n  handleMove(destination) {\n    this.props.onMove(destination)\n  }\n\n  render() {\n    let cells = new Array(64)\n\n    // Color cells\n    for(let i=0; i<8; i++){\n      for(let j=0; j<8; j++){\n        let cellColor = \"cell \" + ((j%2 + i%2) % 2 ? \"cellWhite\" : \"cellBlack\");\n        cells[i*8+j] = \n          <div \n            class={cellColor}\n            style={{ \n              gridColumn: `${j+1}/${j+1}`,\n              gridRow: `${i+1}/${i+1}`\n            }}></div>\n      }\n    }  \n    \n    // Pieces\n    let pieces = this.props.pieces.map((piece) => {      \n      let column = piece.square.charCodeAt(0) - 'a'.charCodeAt(0) + 1;\n      let row = '9'.charCodeAt(0) - piece.square.charCodeAt(1)\n      let color = piece.piece.color === 'b' ? 'blackPiece' : 'whitePiece';\n      \n      return (\n        <div \n          class={color}\n          style={{ \n            gridColumn: `${column}/${column}`,\n            gridRow: `${row}/${row}` }}\n          onClick={this.handleCheckMoves.bind(null, {square: piece.square, verbose: true})}>\n          {pieceMapping[piece.piece.type]}</div>\n      )            \n    })\n\n    let moves = null;\n    // Moves\n    if(this.props.moves){\n      moves = this.props.moves.map((move) => {\n        let coord = chessToCoords(move.to)\n        return (\n          <div\n            class=\"move\"\n            style={{\n              zIndex: 100, \n              gridColumn: `${coord.column}/${coord.column}`,\n              gridRow: `${coord.row}/${coord.row}` }}\n            onClick={this.handleMove.bind(null,move.to)}\n            key={`move-${move.to}`}>            \n          </div>\n        )\n      })\n    }\n\n\n    return (\n      <div class=\"chessBoard\">\n        {cells}\n        {pieces}\n        {moves !== null && moves}\n      </div>\n    )\n  }\n}\n\nexport default ChessBoard;","import React from 'react';\nimport ChessBoard from  './ChessBoard'\nimport '../styles/gameroom.css'\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.client = this.props.client\n    this.state = { \n      gameState: this.props.gameInfo.gameState,\n      moves: null      \n    };\n\n    this.handleMove = this.handleMove.bind(this)\n    this.handleCheckMoves = this.handleCheckMoves.bind(this)\n    console.log('gameInfo', this.props.gameInfo, 'lobbyInfo', this.props.lobbyInfo)\n  }\n\n  handleMove(destination){\n    console.log('voy a mover', destination, this.state.selected)\n    this.client.move({from: this.state.selected.square, to: destination}).then(({gameInfo}) => {\n      this.setState({gameState: gameInfo.gameState, moves: null, selected: null})\n    })\n  }\n\n  handleCheckMoves(selected) {\n    console.log('voy a chequear', selected)\n    let { moves } = this.client.moves(selected)\n    this.setState({moves, selected})\n  }\n\n  componentDidMount(){\n    this.client.addEventListener('MOVE', ({gameInfo}) => {\n      this.setState({\n        gameState: gameInfo.gameState,\n        moves: null,\n        selected: null\n      })\n    })\n  }\n\n  render() {\n    return (\n      <div id=\"gameRoom\">\n        <div id=\"boardContainer\">\n          <ChessBoard \n            pieces={this.state.gameState}\n            moves={this.state.moves}\n            onCheckMoves={this.handleCheckMoves}\n            onMove={this.handleMove}>          \n          </ChessBoard>\n        </div>\n        <div id=\"infoContainer\"></div>\n      </div>\n    );  \n  }\n}\n\nexport default Game;\n","import React from 'react';\nimport NameForm from './NameForm'\nimport LobbyBrowser from './LobbyBrowser/LobbyBrowser';\nimport Lobby from './Lobby/Lobby';\nimport Game from './Game/Game';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {value: '', status: 'registering'};\n    \n    this.handleRegister = this.handleRegister.bind(this);\n    this.handleCreateLobby = this.handleCreateLobby.bind(this);\n    this.handleJoinLobby = this.handleJoinLobby.bind(this)\n\n    this.handleGameStart = this.handleGameStart.bind(this)\n  }\n\n  handleRegister(user) {    \n    this.props.client.register(user).then((response) => {\n      window.addEventListener('beforeunload', this.props.client.leave)\n      if(response === 'OK'){\n        this.setState({\n          status: 'looking'\n        })\n      }\n    }).catch(() => {\n      \n    })\n  }\n\n  handleCreateLobby(lobbyName) {\n    this.props.client.createLobby(lobbyName).then(({lobbyInfo}) => {\n      this.setState({\n        status: 'hosting',\n        lobbyName,\n        lobbyInfo\n      })\n    }).catch(() => {\n      \n    })\n  }\n\n  handleJoinLobby(lobbyName){    \n    this.props.client.joinLobby(lobbyName).then(({lobbyInfo}) => {\n      this.setState({\n        status: 'joined',\n        lobbyName,\n        lobbyInfo\n      })\n    }).catch(() => {\n      \n    })\n  }\n\n  handleGameStart({lobbyInfo, gameInfo}){\n    this.setState({\n      status: 'playing',\n      lobbyInfo,\n      gameInfo     \n    })\n  }\n\n\n  render() {\n    switch (this.state.status) {\n      case 'registering':\n        return(\n          <NameForm onRegister={this.handleRegister}/>\n        )\n      case 'looking':\n        return(\n          <LobbyBrowser \n            onCreateLobby={this.handleCreateLobby}\n            onJoinLobby={this.handleJoinLobby}\n          />\n        )\n      case 'hosting':\n        return(\n          <Lobby\n            onGameStart={this.handleGameStart}\n            IamCreator={true}\n            client={this.props.client}\n            name={this.state.lobbyName}\n            lobbyInfo={this.state.lobbyInfo} \n          />\n        )\n      case 'joined':\n        return(\n          <Lobby\n            onGameStart={this.handleGameStart}\n            IamCreator={false}\n            client={this.props.client}\n            name={this.state.lobbyName} \n            lobbyInfo={this.state.lobbyInfo}            \n          />\n        )\n      case 'playing':\n        return(\n          <Game\n            client={this.props.client}\n            lobbyInfo={this.state.lobbyInfo}\n            gameInfo={this.state.gameInfo}\n          />\n        )\n      \n      default:\n      return (\n        <div>\n          <p>Algo se rompio</p>\n        </div>\n      )\n    }      \n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App'\nimport UmpireClient from '@mgonnet/umpire-client'\nimport Chess from 'chess.js'\n\nconst FakeChess = new Proxy(Chess, {\n    construct: function (Target, args) {\n        const myFake = new Target(...args)\n        // @ts-ignore\n        myFake.state = () => myFake.SQUARES.map((square) => ({square, piece: myFake.get(square)})).filter((square) => square.piece!==null)\n        return myFake\n    }\n})\n\nlet client = UmpireClient({url: 'wss://umpire-chess.herokuapp.com/', WSConstructor: WebSocket, Game: FakeChess})\n\nReactDOM.render(<App client={client}/>, document.getElementById('root'));"],"sourceRoot":""}