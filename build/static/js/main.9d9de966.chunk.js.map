{"version":3,"sources":["svg/king.svg","svg/king_w.svg","NameForm.js","LobbyBrowser/LobbyBrowser.js","Lobby/PlayersList.js","Lobby/Lobby.js","Game/ChessBoard.js","Game/GameInfo.js","Game/Game.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","NameForm","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","user","handleChange","bind","assertThisInitialized","handleSubmit","event","setState","target","value","error","_this2","preventDefault","client","register","then","response","window","addEventListener","leave","status","onRegister","catch","react_default","a","createElement","id","class","onSubmit","type","onChange","placeholder","React","Component","LobbyBrowser","handleCreateLobby","handleJoinLobby","onCreateLobby","onJoinLobby","onClick","PlayerList","Lobby","players","lobbyInfo","creator","chooseRolHandler","startGameHandler","rol","chooseRol","_ref","_this3","startGame","info","onGameStart","_this4","_ref2","players_black","filter","player","map","name","players_white","players_spectate","src","king","IamCreator","king_w","pieceMapping","r","n","b","q","k","ChessBoard","handleCheckMoves","handleMove","position","onCheckMoves","destination","onMove","cells","Array","i","j","cellColor","style","gridColumn","concat","gridRow","pieces","piece","column","square","charCodeAt","row","color","verbose","moves","move","coord","to","zIndex","key","GameInfo","piece_b","piece_w","p1","p2","turn","Game","gameState","gameInfo","console","log","selected","from","find","Game_ChessBoard","Game_GameInfo","App","handleRegister","handleGameStart","lobbyName","createLobby","joinLobby","_ref3","src_NameForm","src_LobbyBrowser_LobbyBrowser","src_Lobby_Lobby","src_Game_Game","FakeChess","Proxy","Chess","construct","Target","args","myFake","esm_construct","toConsumableArray","SQUARES","get","UmpireClient","url","WSConstructor","WebSocket","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.9d9de966.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/king.c69f5f50.svg\";","module.exports = __webpack_public_path__ + \"static/media/king_w.fef8c091.svg\";","import React from 'react';\n\nclass NameForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {user: ''};\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({user: event.target.value, error: null });\n  }\n\n  handleSubmit(event) {\n    \n    event.preventDefault();\n\n    this.props.client.register(this.state.user).then((response) => {\n      window.addEventListener('beforeunload', this.props.client.leave)\n      if(response === 'OK'){\n        this.setState({\n          status: 'looking'\n        })\n      }\n      this.props.onRegister()\n    }).catch((error) => {\n      this.setState({\n        error\n      })\n    })\n  }\n\n  render() {\n    return (\n      <div id=\"registration\">\n        <form class=\"smallForm loginForm\" onSubmit={this.handleSubmit}>          \n          <input \n            type=\"text\" \n            class=\"inputText\" \n            value={this.state.value} \n            onChange={this.handleChange}\n            placeholder=\"Player Name\"\n          />\n          {\n            this.state.error &&\n              <div class=\"error\">{this.state.error}</div>\n          }      \n          <input \n            type=\"submit\"\n            class=\"boton\"\n            value=\"Join Server\" />\n        </form>\n      </div>      \n    );  \n  }\n}\n\nexport default NameForm;\n","import React from 'react';\n\nclass LobbyBrowser extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {value: ''};\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleCreateLobby = this.handleCreateLobby.bind(this);\n    this.handleJoinLobby = this.handleJoinLobby.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({value: event.target.value});\n  }\n\n  handleCreateLobby(event) {\n    this.props.onCreateLobby(this.state.value)\n    event.preventDefault();\n  }\n\n  handleJoinLobby(event) {\n    this.props.onJoinLobby(this.state.value)\n    event.preventDefault();\n  }\n\n  render() {\n    return (\n      <div>\n        <h2>Lobby Browser</h2>\n        \n        <div class=\"smallForm\">\n          <input \n            type=\"text\"\n            class=\"inputText\"\n            placeholder=\"lobby name\"\n            value={this.state.value} \n            onChange={this.handleChange} />                       \n          <button \n            class=\"boton\"\n            onClick={this.handleCreateLobby}> \n            Create </button>\n          <button \n            class=\"boton\"\n            onClick={this.handleJoinLobby}> \n            Join </button>\n        </div>\n      </div>\n      \n    );  \n  }\n}\n\nexport default LobbyBrowser;\n","import React from 'react';\nimport PlayerDetail from './PlayerDetail'\n\nfunction PlayerList(props) {\n  let playerList = props.players.map((player) =>\n    <PlayerDetail \n      key={player.name}\n      name={player.name}\n      rol={player.rol}\n      me={player.me}\n      onChooseRol={props.onChooseRol}/>\n  )\n  return <div>{playerList}</div>;\n}\n\nexport default PlayerList;","import React from 'react';\nimport PlayersList from './PlayersList';\nimport '../styles/lobby.css'\nimport king from '../svg/king.svg'\nimport king_w from '../svg/king_w.svg'\n\nclass Lobby extends React.Component {\n  constructor(props) {\n    super(props);\n    this.client = this.props.client\n  \n    this.state = { \n      players: this.props.lobbyInfo.players,\n      creator: this.props.lobbyInfo.creator\n    };\n\n    this.chooseRolHandler = this.chooseRolHandler.bind(this)\n    this.startGameHandler = this.startGameHandler.bind(this)\n  }\n\n  chooseRolHandler(rol){\n    this.client.chooseRol(rol).then(({lobbyInfo: {players}}) => {\n      this.setState({\n        players\n      })\n    })\n  }\n\n  startGameHandler(){\n    this.client.startGame().then((info) => {\n      this.props.onGameStart(info)\n    })\n  }\n\n  componentDidMount(){\n    this.client.addEventListener('LOBBY-UPDATE', ({lobbyInfo}) => {\n      this.setState({\n        players: lobbyInfo.players\n      })\n    })\n\n    this.client.addEventListener('GAME-START', (lobbyInfo) => {\n      this.props.onGameStart(lobbyInfo)\n    })\n  }\n\n  render() { \n\n    let players_black = this.state.players.filter((player) => player.rol === 'b').map((player) => \n      <h2>{player.name}</h2>\n    )\n\n    let players_white = this.state.players.filter((player) => player.rol === 'w').map((player) => \n      <h2>{player.name}</h2>\n    )\n\n    let players_spectate = this.state.players.filter((player) => !player.rol).map((player) => \n    <h2>{player.name}</h2>\n  )\n\n    return (\n      <div id=\"lobby\">\n        <div class=\"lobby-side\"> \n          <img \n            class=\"lobby-piece\"\n            src={king}\n            onClick={this.chooseRolHandler.bind(null, 'b')}></img>\n          <div\n            class=\"lobby-player-list\">\n            {players_black}\n          </div>          \n        </div>\n        <div id=\"lobby-middle\">\n          {this.props.IamCreator && \n            <button\n              id=\"start-game\"\n              class=\"boton\"\n              onClick={this.startGameHandler}>Start Game!</button>}\n          <div class=\"lobby-player-list\">\n            {players_spectate}\n          </div>                              \n        </div>\n        <div class=\"lobby-side\"> \n          <img \n            class=\"lobby-piece\"\n            src={king_w}\n            onClick={this.chooseRolHandler.bind(null, 'w')}></img>\n          <div\n            class=\"lobby-player-list\">\n            {players_white}\n          </div>\n        </div>\n      </div>      \n    );  \n  }\n}\n\nexport default Lobby;\n","import React from 'react';\nimport '../styles/chessboard.css'\n\nconst pieceMapping = {\n  'r': '♜',\n  'n': '♞',\n  'b': '♝',\n  'q': '♛',\n  'k': '♚',\n  'p': '♟'\n}\n\n/**\n * Given a coordinate, returns the chess representation ((1,1) => 'a8')\n * @param {number} column \n * @param {number} row \n * @returns {string}\n */\nfunction coordsToChess(column, row) {\n  let newColumn = String.fromCharCode('a'.charCodeAt(0) + column)\n  let newRow = Math.abs(row-9)\n  return newColumn + newRow;\n}\n\nfunction chessToCoords(position){\n  let column = position.charCodeAt(0) - 'a'.charCodeAt(0) + 1;\n  let row = '9'.charCodeAt(0) - position.charCodeAt(1);\n  return {column, row};\n}\n\nclass ChessBoard extends React.Component {\n  constructor(props) {\n    super(props)\n    this.handleCheckMoves = this.handleCheckMoves.bind(this)\n    this.handleMove = this.handleMove.bind(this)\n  }\n\n  handleCheckMoves(position){    \n    this.props.onCheckMoves(position)\n  }\n\n  handleMove(destination) {\n    this.props.onMove(destination)\n  }\n\n  render() {\n    let cells = new Array(64)\n\n    // Color cells\n    for(let i=0; i<8; i++){\n      for(let j=0; j<8; j++){\n        let cellColor = \"cell \" + ((j%2 + i%2) % 2 ? \"cellWhite\" : \"cellBlack\");\n        cells[i*8+j] = \n          <div \n            class={cellColor}\n            style={{ \n              gridColumn: `${j+1}/${j+1}`,\n              gridRow: `${i+1}/${i+1}`\n            }}></div>\n      }\n    }  \n    \n    // Pieces\n    let pieces = this.props.pieces.map((piece) => {      \n      let column = piece.square.charCodeAt(0) - 'a'.charCodeAt(0) + 1;\n      let row = '9'.charCodeAt(0) - piece.square.charCodeAt(1)\n      let color = piece.piece.color === 'b' ? 'blackPiece' : 'whitePiece';\n      \n      return (\n        <div \n          class={color}\n          style={{ \n            gridColumn: `${column}/${column}`,\n            gridRow: `${row}/${row}` }}\n          onClick={this.handleCheckMoves.bind(null, {square: piece.square, verbose: true})}>\n          {pieceMapping[piece.piece.type]}</div>\n      )            \n    })\n\n    let moves = null;\n    // Moves\n    if(this.props.moves){\n      moves = this.props.moves.map((move) => {\n        let coord = chessToCoords(move.to)\n        return (\n          <div\n            class=\"move\"\n            style={{\n              zIndex: 100, \n              gridColumn: `${coord.column}/${coord.column}`,\n              gridRow: `${coord.row}/${coord.row}` }}\n            onClick={this.handleMove.bind(null,move.to)}\n            key={`move-${move.to}`}>            \n          </div>\n        )\n      })\n    }\n\n\n    return (\n      <div class=\"chessBoard\">\n        {cells}\n        {pieces}\n        {moves !== null && moves}\n      </div>\n    )\n  }\n}\n\nexport default ChessBoard;","import React from 'react';\nimport '../styles/gameinfo.css'\n\nimport piece_b from '../svg/king.svg'\nimport piece_w from '../svg/king_w.svg'\n\nclass GameInfo extends React.Component {\n  constructor(props){\n    super(props)\n  }\n\n  render(){\n    return (\n      <div id=\"gameinfo\">\n        <img src={piece_b} id=\"gameinfo-piece1\"></img>\n        <img src={piece_w} id=\"gameinfo-piece2\"></img>\n        <h2 id=\"gameinfo-player1\">{this.props.p1}</h2>\n        <h2 id=\"gameinfo-player2\">{this.props.p2}</h2>\n        <div class=\"turn\" id={`turn-${this.props.turn}`}></div>\n      </div>\n    )\n  }\n}\n\nexport default GameInfo;","import React from 'react';\nimport ChessBoard from  './ChessBoard'\nimport GameInfo from './GameInfo'\n\nimport '../styles/gameroom.css'\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.client = this.props.client\n    this.state = { \n      gameState: this.props.gameInfo.gameState,\n      moves: null,\n      turn: this.props.gameInfo.turn \n    };\n\n    this.handleMove = this.handleMove.bind(this)\n    this.handleCheckMoves = this.handleCheckMoves.bind(this)\n    console.log('gameInfo', this.props.gameInfo, 'lobbyInfo', this.props.lobbyInfo)\n  }\n\n  handleMove(destination){\n    console.log('voy a mover', destination, this.state.selected)\n    this.client.move({from: this.state.selected.square, to: destination}).then(({gameInfo}) => {\n      this.setState({gameState: gameInfo.gameState, moves: null, selected: null, turn:gameInfo.turn})\n    })\n  }\n\n  handleCheckMoves(selected) {\n    console.log('voy a chequear', selected)\n    let { moves } = this.client.moves(selected)\n    this.setState({moves, selected})\n  }\n\n  componentDidMount(){\n    this.client.addEventListener('MOVE', ({gameInfo}) => {\n      this.setState({\n        gameState: gameInfo.gameState,\n        moves: null,\n        selected: null,\n        turn: gameInfo.turn\n      })\n    })\n  }\n\n  render() {\n    let p1 = this.props.lobbyInfo.players.find((player) => player.rol === 'b').name\n    let p2 = this.props.lobbyInfo.players.find((player) => player.rol === 'w').name\n    console.log(this.state, 'asdasdasdasd-------')\n    return (\n      <div id=\"gameRoom\">\n        <div id=\"boardContainer\">\n          <ChessBoard \n            pieces={this.state.gameState}\n            moves={this.state.moves}\n            onCheckMoves={this.handleCheckMoves}\n            onMove={this.handleMove}>          \n          </ChessBoard>\n        </div>\n        <div id=\"infoContainer\">\n          <GameInfo\n            p1={p1}\n            p2={p2}\n            turn={this.state.turn}>\n          </GameInfo>\n        </div>\n      </div>\n    );  \n  }\n}\n\nexport default Game;\n","import React from 'react';\nimport NameForm from './NameForm'\nimport LobbyBrowser from './LobbyBrowser/LobbyBrowser';\nimport Lobby from './Lobby/Lobby';\nimport Game from './Game/Game';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {value: '', status: 'registering'};\n    \n    this.handleRegister = this.handleRegister.bind(this);\n    this.handleCreateLobby = this.handleCreateLobby.bind(this);\n    this.handleJoinLobby = this.handleJoinLobby.bind(this)\n\n    this.handleGameStart = this.handleGameStart.bind(this)\n  }\n\n  handleRegister() {    \n    this.setState({\n      status: 'looking'\n    })\n  }\n\n  handleCreateLobby(lobbyName) {\n    this.props.client.createLobby(lobbyName).then(({lobbyInfo}) => {\n      this.setState({\n        status: 'hosting',\n        lobbyName,\n        lobbyInfo\n      })\n    }).catch(() => {\n      \n    })\n  }\n\n  handleJoinLobby(lobbyName){    \n    this.props.client.joinLobby(lobbyName).then(({lobbyInfo}) => {\n      this.setState({\n        status: 'joined',\n        lobbyName,\n        lobbyInfo\n      })\n    }).catch(() => {\n      \n    })\n  }\n\n  handleGameStart({lobbyInfo, gameInfo}){\n    this.setState({\n      status: 'playing',\n      lobbyInfo,\n      gameInfo     \n    })\n  }\n\n\n  render() {\n    switch (this.state.status) {\n      case 'registering':\n        return(\n          <NameForm \n            client={this.props.client}\n            onRegister={this.handleRegister}/>\n        )\n      case 'looking':\n        return(\n          <LobbyBrowser \n            onCreateLobby={this.handleCreateLobby}\n            onJoinLobby={this.handleJoinLobby}\n          />\n        )\n      case 'hosting':\n        return(\n          <Lobby\n            onGameStart={this.handleGameStart}\n            IamCreator={true}\n            client={this.props.client}\n            name={this.state.lobbyName}\n            lobbyInfo={this.state.lobbyInfo} \n          />\n        )\n      case 'joined':\n        return(\n          <Lobby\n            onGameStart={this.handleGameStart}\n            IamCreator={false}\n            client={this.props.client}\n            name={this.state.lobbyName} \n            lobbyInfo={this.state.lobbyInfo}            \n          />\n        )\n      case 'playing':\n        return(\n          <Game\n            client={this.props.client}\n            lobbyInfo={this.state.lobbyInfo}\n            gameInfo={this.state.gameInfo}\n          />\n        )\n      \n      default:\n      return (\n        <div>\n          <p>Algo se rompio</p>\n        </div>\n      )\n    }      \n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App'\nimport UmpireClient from '@mgonnet/umpire-client'\nimport Chess from 'chess.js'\n\nconst FakeChess = new Proxy(Chess, {\n    construct: function (Target, args) {\n        const myFake = new Target(...args)\n        // @ts-ignore\n        myFake.state = () => myFake.SQUARES.map((square) => ({square, piece: myFake.get(square)})).filter((square) => square.piece!==null)\n        return myFake\n    }\n})\n\nlet client = UmpireClient({url: 'wss://umpire-chess.herokuapp.com/', WSConstructor: WebSocket, Game: FakeChess})\n\nReactDOM.render(<App client={client}/>, document.getElementById('root'));"],"sourceRoot":""}