{"version":3,"sources":["svg/king.svg","svg/king_w.svg","NameForm.js","LobbyBrowser/LobbyBrowser.js","Lobby/PlayersList.js","Lobby/Lobby.js","Game/ChessBoard.js","Game/Game.js","App.js","index.js"],"names":["module","exports","__webpack_require__","p","NameForm","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","value","handleChange","bind","assertThisInitialized","handleSubmit","event","setState","target","onRegister","preventDefault","react_default","a","createElement","id","class","onSubmit","type","onChange","placeholder","React","Component","LobbyBrowser","handleCreateLobby","handleJoinLobby","onCreateLobby","onJoinLobby","onClick","PlayerList","Lobby","client","players","lobbyInfo","creator","chooseRolHandler","startGameHandler","rol","_this2","chooseRol","then","_ref","_this3","startGame","info","onGameStart","_this4","addEventListener","_ref2","players_black","filter","player","map","name","players_white","players_spectate","src","king","style","gridArea","IamCreator","king_w","pieceMapping","r","n","b","q","k","ChessBoard","handleCheckMoves","handleMove","position","onCheckMoves","destination","onMove","cells","Array","i","j","cellColor","gridColumn","concat","gridRow","pieces","piece","column","square","charCodeAt","row","color","verbose","moves","move","coord","to","zIndex","key","Game","gameState","gameInfo","console","log","selected","from","Game_ChessBoard","App","status","handleRegister","handleGameStart","user","register","response","window","leave","catch","lobbyName","createLobby","joinLobby","_ref3","src_NameForm","src_LobbyBrowser_LobbyBrowser","src_Lobby_Lobby","src_Game_Game","FakeChess","Proxy","Chess","construct","Target","args","myFake","esm_construct","toConsumableArray","SQUARES","get","UmpireClient","url","WSConstructor","WebSocket","ReactDOM","render","src_App","document","getElementById"],"mappings":"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","file":"static/js/main.e5896093.chunk.js","sourcesContent":["module.exports = __webpack_public_path__ + \"static/media/king.c69f5f50.svg\";","module.exports = __webpack_public_path__ + \"static/media/king_w.fef8c091.svg\";","import React from 'react';\n\nclass NameForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {value: ''};\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({value: event.target.value});\n  }\n\n  handleSubmit(event) {\n    this.props.onRegister(this.state.value)\n    event.preventDefault();\n  }\n\n  render() {\n    return (\n      <div id=\"registration\">\n        <form class=\"smallForm loginForm\" onSubmit={this.handleSubmit}>\n          <input \n            type=\"text\" \n            class=\"inputText\" \n            value={this.state.value} \n            onChange={this.handleChange}\n            placeholder=\"Player Name\"\n          />\n          <input \n            type=\"submit\"\n            class=\"boton\"\n            value=\"Join Server\" />\n        </form>\n      </div>      \n    );  \n  }\n}\n\nexport default NameForm;\n","import React from 'react';\n\nclass LobbyBrowser extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {value: ''};\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleCreateLobby = this.handleCreateLobby.bind(this);\n    this.handleJoinLobby = this.handleJoinLobby.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({value: event.target.value});\n  }\n\n  handleCreateLobby(event) {\n    this.props.onCreateLobby(this.state.value)\n    event.preventDefault();\n  }\n\n  handleJoinLobby(event) {\n    this.props.onJoinLobby(this.state.value)\n    event.preventDefault();\n  }\n\n  render() {\n    return (\n      <div>\n        <h2>Lobby Browser</h2>\n        \n        <div class=\"smallForm\">\n          <input \n            type=\"text\"\n            class=\"inputText\"\n            placeholder=\"lobby name\"\n            value={this.state.value} \n            onChange={this.handleChange} />                       \n          <button \n            class=\"boton\"\n            onClick={this.handleCreateLobby}> \n            Create </button>\n          <button \n            class=\"boton\"\n            onClick={this.handleJoinLobby}> \n            Join </button>\n        </div>\n      </div>\n      \n    );  \n  }\n}\n\nexport default LobbyBrowser;\n","import React from 'react';\nimport PlayerDetail from './PlayerDetail'\n\nfunction PlayerList(props) {\n  let playerList = props.players.map((player) =>\n    <PlayerDetail \n      key={player.name}\n      name={player.name}\n      rol={player.rol}\n      me={player.me}\n      onChooseRol={props.onChooseRol}/>\n  )\n  return <div>{playerList}</div>;\n}\n\nexport default PlayerList;","import React from 'react';\nimport PlayersList from './PlayersList';\nimport '../styles/lobby.css'\nimport king from '../svg/king.svg'\nimport king_w from '../svg/king_w.svg'\n\nclass Lobby extends React.Component {\n  constructor(props) {\n    super(props);\n    this.client = this.props.client\n  \n    this.state = { \n      players: this.props.lobbyInfo.players,\n      creator: this.props.lobbyInfo.creator\n    };\n\n    this.chooseRolHandler = this.chooseRolHandler.bind(this)\n    this.startGameHandler = this.startGameHandler.bind(this)\n  }\n\n  chooseRolHandler(rol){\n    this.client.chooseRol(rol).then(({lobbyInfo: {players}}) => {\n      this.setState({\n        players\n      })\n    })\n  }\n\n  startGameHandler(){\n    this.client.startGame().then((info) => {\n      this.props.onGameStart(info)\n    })\n  }\n\n  componentDidMount(){\n    this.client.addEventListener('LOBBY-UPDATE', ({lobbyInfo}) => {\n      this.setState({\n        players: lobbyInfo.players\n      })\n    })\n\n    this.client.addEventListener('GAME-START', (lobbyInfo) => {\n      this.props.onGameStart(lobbyInfo)\n    })\n  }\n\n  render() { \n\n    let players_black = this.state.players.filter((player) => player.rol === 'b').map((player) => \n      <h2>{player.name}</h2>\n    )\n\n    let players_white = this.state.players.filter((player) => player.rol === 'w').map((player) => \n      <h2>{player.name}</h2>\n    )\n\n    let players_spectate = this.state.players.filter((player) => !player.rol).map((player) => \n    <h2>{player.name}</h2>\n  )\n\n    return (\n      <div id=\"lobby\">\n        <div class=\"lobby-side\"> \n          <img \n            class=\"lobby-piece\"\n            src={king}\n            onClick={this.chooseRolHandler.bind(null, 'b')}></img>\n          <div\n            style={{gridArea: `players`}}>\n            {players_black}\n          </div>          \n        </div>\n        <div id=\"lobby-middle\">\n          {this.props.IamCreator && \n            <button\n              id=\"start-game\"\n              class=\"boton\"\n              onClick={this.startGameHandler}>Start Game!</button>}\n          <div id=\"lobby-spectate-list\">\n            {players_spectate}\n          </div>                              \n        </div>\n        <div class=\"lobby-side\"> \n          <img \n            class=\"lobby-piece\"\n            src={king_w}\n            onClick={this.chooseRolHandler.bind(null, 'w')}></img>\n          <div\n            style={{gridArea: `players`}}>\n            {players_white}\n          </div>\n        </div>\n      </div>      \n    );  \n  }\n}\n\nexport default Lobby;\n","import React from 'react';\nimport '../styles/chessboard.css'\n\nconst pieceMapping = {\n  'r': '♜',\n  'n': '♞',\n  'b': '♝',\n  'q': '♛',\n  'k': '♚',\n  'p': '♟'\n}\n\n/**\n * Given a coordinate, returns the chess representation ((1,1) => 'a8')\n * @param {number} column \n * @param {number} row \n * @returns {string}\n */\nfunction coordsToChess(column, row) {\n  let newColumn = String.fromCharCode('a'.charCodeAt(0) + column)\n  let newRow = Math.abs(row-9)\n  return newColumn + newRow;\n}\n\nfunction chessToCoords(position){\n  let column = position.charCodeAt(0) - 'a'.charCodeAt(0) + 1;\n  let row = '9'.charCodeAt(0) - position.charCodeAt(1);\n  return {column, row};\n}\n\nclass ChessBoard extends React.Component {\n  constructor(props) {\n    super(props)\n    this.handleCheckMoves = this.handleCheckMoves.bind(this)\n    this.handleMove = this.handleMove.bind(this)\n  }\n\n  handleCheckMoves(position){    \n    this.props.onCheckMoves(position)\n  }\n\n  handleMove(destination) {\n    this.props.onMove(destination)\n  }\n\n  render() {\n    let cells = new Array(64)\n\n    // Color cells\n    for(let i=0; i<8; i++){\n      for(let j=0; j<8; j++){\n        let cellColor = \"cell \" + ((j%2 + i%2) % 2 ? \"cellWhite\" : \"cellBlack\");\n        cells[i*8+j] = \n          <div \n            class={cellColor}\n            style={{ \n              gridColumn: `${j+1}/${j+1}`,\n              gridRow: `${i+1}/${i+1}`\n            }}></div>\n      }\n    }  \n    \n    // Pieces\n    let pieces = this.props.pieces.map((piece) => {      \n      let column = piece.square.charCodeAt(0) - 'a'.charCodeAt(0) + 1;\n      let row = '9'.charCodeAt(0) - piece.square.charCodeAt(1)\n      let color = piece.piece.color === 'b' ? 'blackPiece' : 'whitePiece';\n      \n      return (\n        <div \n          class={color}\n          style={{ \n            gridColumn: `${column}/${column}`,\n            gridRow: `${row}/${row}` }}\n          onClick={this.handleCheckMoves.bind(null, {square: piece.square, verbose: true})}>\n          {pieceMapping[piece.piece.type]}</div>\n      )            \n    })\n\n    let moves = null;\n    // Moves\n    if(this.props.moves){\n      moves = this.props.moves.map((move) => {\n        let coord = chessToCoords(move.to)\n        return (\n          <div\n            class=\"move\"\n            style={{\n              zIndex: 100, \n              gridColumn: `${coord.column}/${coord.column}`,\n              gridRow: `${coord.row}/${coord.row}` }}\n            onClick={this.handleMove.bind(null,move.to)}\n            key={`move-${move.to}`}>            \n          </div>\n        )\n      })\n    }\n\n\n    return (\n      <div class=\"chessBoard\">\n        {cells}\n        {pieces}\n        {moves !== null && moves}\n      </div>\n    )\n  }\n}\n\nexport default ChessBoard;","import React from 'react';\nimport ChessBoard from  './ChessBoard'\nimport '../styles/gameroom.css'\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.client = this.props.client\n    this.state = { \n      gameState: this.props.gameInfo.gameState,\n      moves: null      \n    };\n\n    this.handleMove = this.handleMove.bind(this)\n    this.handleCheckMoves = this.handleCheckMoves.bind(this)\n    console.log('gameInfo', this.props.gameInfo, 'lobbyInfo', this.props.lobbyInfo)\n  }\n\n  handleMove(destination){\n    console.log('voy a mover', destination, this.state.selected)\n    this.client.move({from: this.state.selected.square, to: destination}).then(({gameInfo}) => {\n      this.setState({gameState: gameInfo.gameState, moves: null, selected: null})\n    })\n  }\n\n  handleCheckMoves(selected) {\n    console.log('voy a chequear', selected)\n    let { moves } = this.client.moves(selected)\n    this.setState({moves, selected})\n  }\n\n  componentDidMount(){\n    this.client.addEventListener('MOVE', ({gameInfo}) => {\n      this.setState({\n        gameState: gameInfo.gameState,\n        moves: null,\n        selected: null\n      })\n    })\n  }\n\n  render() {\n    return (\n      <div id=\"gameRoom\">\n        <div id=\"boardContainer\">\n          <ChessBoard \n            pieces={this.state.gameState}\n            moves={this.state.moves}\n            onCheckMoves={this.handleCheckMoves}\n            onMove={this.handleMove}>          \n          </ChessBoard>\n        </div>\n        <div id=\"infoContainer\"></div>\n      </div>\n    );  \n  }\n}\n\nexport default Game;\n","import React from 'react';\nimport NameForm from './NameForm'\nimport LobbyBrowser from './LobbyBrowser/LobbyBrowser';\nimport Lobby from './Lobby/Lobby';\nimport Game from './Game/Game';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {value: '', status: 'registering'};\n    \n    this.handleRegister = this.handleRegister.bind(this);\n    this.handleCreateLobby = this.handleCreateLobby.bind(this);\n    this.handleJoinLobby = this.handleJoinLobby.bind(this)\n\n    this.handleGameStart = this.handleGameStart.bind(this)\n  }\n\n  handleRegister(user) {    \n    this.props.client.register(user).then((response) => {\n      window.addEventListener('beforeunload', this.props.client.leave)\n      if(response === 'OK'){\n        this.setState({\n          status: 'looking'\n        })\n      }\n    }).catch(() => {\n      \n    })\n  }\n\n  handleCreateLobby(lobbyName) {\n    this.props.client.createLobby(lobbyName).then(({lobbyInfo}) => {\n      this.setState({\n        status: 'hosting',\n        lobbyName,\n        lobbyInfo\n      })\n    }).catch(() => {\n      \n    })\n  }\n\n  handleJoinLobby(lobbyName){    \n    this.props.client.joinLobby(lobbyName).then(({lobbyInfo}) => {\n      this.setState({\n        status: 'joined',\n        lobbyName,\n        lobbyInfo\n      })\n    }).catch(() => {\n      \n    })\n  }\n\n  handleGameStart({lobbyInfo, gameInfo}){\n    this.setState({\n      status: 'playing',\n      lobbyInfo,\n      gameInfo     \n    })\n  }\n\n\n  render() {\n    switch (this.state.status) {\n      case 'registering':\n        return(\n          <NameForm onRegister={this.handleRegister}/>\n        )\n      case 'looking':\n        return(\n          <LobbyBrowser \n            onCreateLobby={this.handleCreateLobby}\n            onJoinLobby={this.handleJoinLobby}\n          />\n        )\n      case 'hosting':\n        return(\n          <Lobby\n            onGameStart={this.handleGameStart}\n            IamCreator={true}\n            client={this.props.client}\n            name={this.state.lobbyName}\n            lobbyInfo={this.state.lobbyInfo} \n          />\n        )\n      case 'joined':\n        return(\n          <Lobby\n            onGameStart={this.handleGameStart}\n            IamCreator={false}\n            client={this.props.client}\n            name={this.state.lobbyName} \n            lobbyInfo={this.state.lobbyInfo}            \n          />\n        )\n      case 'playing':\n        return(\n          <Game\n            client={this.props.client}\n            lobbyInfo={this.state.lobbyInfo}\n            gameInfo={this.state.gameInfo}\n          />\n        )\n      \n      default:\n      return (\n        <div>\n          <p>Algo se rompio</p>\n        </div>\n      )\n    }      \n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App'\nimport UmpireClient from '@mgonnet/umpire-client'\nimport Chess from 'chess.js'\n\nconst FakeChess = new Proxy(Chess, {\n    construct: function (Target, args) {\n        const myFake = new Target(...args)\n        // @ts-ignore\n        myFake.state = () => myFake.SQUARES.map((square) => ({square, piece: myFake.get(square)})).filter((square) => square.piece!==null)\n        return myFake\n    }\n})\n\nlet client = UmpireClient({url: 'wss://umpire-chess.herokuapp.com/', WSConstructor: WebSocket, Game: FakeChess})\n\nReactDOM.render(<App client={client}/>, document.getElementById('root'));"],"sourceRoot":""}