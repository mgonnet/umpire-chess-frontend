{"version":3,"sources":["NameForm.js","LobbyBrowser/LobbyBrowser.js","Lobby/PlayerDetail.js","Lobby/PlayersList.js","Lobby/Lobby.js","Game/ChessBoard.js","Game/Game.js","App.js","index.js"],"names":["NameForm","props","_this","Object","classCallCheck","this","possibleConstructorReturn","getPrototypeOf","call","state","value","handleChange","bind","assertThisInitialized","handleSubmit","event","setState","target","onRegister","preventDefault","react_default","a","createElement","id","class","onSubmit","type","onChange","placeholder","React","Component","LobbyBrowser","handleCreateLobby","handleJoinLobby","onCreateLobby","onJoinLobby","onClick","PlayerDetail","rol","name","me","onChooseRol","PlayerList","playerList","players","map","player","Lobby_PlayerDetail","key","Lobby","client","lobbyInfo","creator","chooseRolHandler","startGameHandler","_this2","chooseRol","then","_ref","_this3","startGame","info","onGameStart","_this4","addEventListener","_ref2","PlayersList","IamCreator","pieceMapping","r","n","b","q","k","p","ChessBoard","handleCheckMoves","handleMove","position","onCheckMoves","destination","onMove","cells","Array","i","j","cellColor","style","gridColumn","concat","gridRow","pieces","piece","column","square","charCodeAt","row","color","verbose","moves","move","coord","to","zIndex","Game","gameState","gameInfo","console","log","selected","from","Game_ChessBoard","App","status","handleRegister","handleGameStart","user","register","response","window","leave","catch","lobbyName","createLobby","joinLobby","_ref3","src_NameForm","src_LobbyBrowser_LobbyBrowser","src_Lobby_Lobby","src_Game_Game","FakeChess","Proxy","Chess","construct","Target","args","myFake","esm_construct","toConsumableArray","SQUARES","get","filter","UmpireClient","url","WSConstructor","WebSocket","ReactDOM","render","src_App","document","getElementById"],"mappings":"ySAyCeA,cAtCb,SAAAA,EAAYC,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAL,IACjBE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAH,GAAAQ,KAAAH,KAAMJ,KACDQ,MAAQ,CAACC,MAAO,IAErBR,EAAKS,aAAeT,EAAKS,aAAaC,KAAlBT,OAAAU,EAAA,EAAAV,CAAAD,IACpBA,EAAKY,aAAeZ,EAAKY,aAAaF,KAAlBT,OAAAU,EAAA,EAAAV,CAAAD,IALHA,4EAQNa,GACXV,KAAKW,SAAS,CAACN,MAAOK,EAAME,OAAOP,6CAGxBK,GACXV,KAAKJ,MAAMiB,WAAWb,KAAKI,MAAMC,OACjCK,EAAMI,kDAIN,OACEC,EAAAC,EAAAC,cAAA,OAAKC,GAAG,gBACNH,EAAAC,EAAAC,cAAA,QAAME,MAAM,sBAAsBC,SAAUpB,KAAKS,cAC/CM,EAAAC,EAAAC,cAAA,SACEI,KAAK,OACLF,MAAM,YACNd,MAAOL,KAAKI,MAAMC,MAClBiB,SAAUtB,KAAKM,aACfiB,YAAY,gBAEdR,EAAAC,EAAAC,cAAA,SACEI,KAAK,SACLF,MAAM,QACNd,MAAM,yBAhCKmB,IAAMC,WCmDdC,cAlDb,SAAAA,EAAY9B,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA0B,IACjB7B,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA4B,GAAAvB,KAAAH,KAAMJ,KACDQ,MAAQ,CAACC,MAAO,IAErBR,EAAKS,aAAeT,EAAKS,aAAaC,KAAlBT,OAAAU,EAAA,EAAAV,CAAAD,IACpBA,EAAK8B,kBAAoB9B,EAAK8B,kBAAkBpB,KAAvBT,OAAAU,EAAA,EAAAV,CAAAD,IACzBA,EAAK+B,gBAAkB/B,EAAK+B,gBAAgBrB,KAArBT,OAAAU,EAAA,EAAAV,CAAAD,IANNA,4EASNa,GACXV,KAAKW,SAAS,CAACN,MAAOK,EAAME,OAAOP,kDAGnBK,GAChBV,KAAKJ,MAAMiC,cAAc7B,KAAKI,MAAMC,OACpCK,EAAMI,yDAGQJ,GACdV,KAAKJ,MAAMkC,YAAY9B,KAAKI,MAAMC,OAClCK,EAAMI,kDAIN,OACEC,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,2BAEAF,EAAAC,EAAAC,cAAA,OAAKE,MAAM,aACTJ,EAAAC,EAAAC,cAAA,SACEI,KAAK,OACLF,MAAM,YACNI,YAAY,aACZlB,MAAOL,KAAKI,MAAMC,MAClBiB,SAAUtB,KAAKM,eACjBS,EAAAC,EAAAC,cAAA,UACEE,MAAM,QACNY,QAAS/B,KAAK2B,mBAFhB,WAIAZ,EAAAC,EAAAC,cAAA,UACEE,MAAM,QACNY,QAAS/B,KAAK4B,iBAFhB,kBAxCiBJ,IAAMC,WCyBlBO,MAzBf,SAAsBpC,GACpB,IAAIqC,EASJ,OAPEA,EADe,MAAdrC,EAAMqC,IACD,SACe,MAAdrC,EAAMqC,IACP,SAEA,KAINlB,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,kBAAUrB,EAAMsC,MACdtC,EAAMuC,GACNpB,EAAAC,EAAAC,cAAA,UAAQK,SAAU1B,EAAMwC,aACtBrB,EAAAC,EAAAC,cAAA,UAAQZ,MAAM,WAAd,MACAU,EAAAC,EAAAC,cAAA,UAAQZ,MAAM,KAAd,UACAU,EAAAC,EAAAC,cAAA,UAAQZ,MAAM,KAAd,WAEFU,EAAAC,EAAAC,cAAA,iBAASgB,KCNFI,MAZf,SAAoBzC,GAClB,IAAI0C,EAAa1C,EAAM2C,QAAQC,IAAI,SAACC,GAAD,OACjC1B,EAAAC,EAAAC,cAACyB,EAAD,CACEC,IAAKF,EAAOP,KACZA,KAAMO,EAAOP,KACbD,IAAKQ,EAAOR,IACZE,GAAIM,EAAON,GACXC,YAAaxC,EAAMwC,gBAEvB,OAAOrB,EAAAC,EAAAC,cAAA,WAAMqB,IC+CAM,cAvDb,SAAAA,EAAYhD,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA4C,IACjB/C,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA8C,GAAAzC,KAAAH,KAAMJ,KACDiD,OAAShD,EAAKD,MAAMiD,OAEzBhD,EAAKO,MAAQ,CACXmC,QAAS1C,EAAKD,MAAMkD,UAAUP,QAC9BQ,QAASlD,EAAKD,MAAMkD,UAAUC,SAGhClD,EAAKmD,iBAAmBnD,EAAKmD,iBAAiBzC,KAAtBT,OAAAU,EAAA,EAAAV,CAAAD,IACxBA,EAAKoD,iBAAmBpD,EAAKoD,iBAAiB1C,KAAtBT,OAAAU,EAAA,EAAAV,CAAAD,IAVPA,gFAaFa,GAAM,IAAAwC,EAAAlD,KACrBA,KAAK6C,OAAOM,UAAUzC,EAAME,OAAOP,OAAO+C,KAAK,SAAAC,GAA4B,IAAdd,EAAcc,EAA1BP,UAAYP,QAC3DW,EAAKvC,SAAS,CACZ4B,yDAKY,IAAAe,EAAAtD,KAChBA,KAAK6C,OAAOU,YAAYH,KAAK,SAACI,GAC5BF,EAAK1D,MAAM6D,YAAYD,iDAIR,IAAAE,EAAA1D,KACjBA,KAAK6C,OAAOc,iBAAiB,eAAgB,SAAAC,GAAiB,IAAfd,EAAec,EAAfd,UAC7CY,EAAK/C,SAAS,CACZ4B,QAASO,EAAUP,YAIvBvC,KAAK6C,OAAOc,iBAAiB,aAAc,SAACb,GAC1CY,EAAK9D,MAAM6D,YAAYX,sCAKzB,OACE/B,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,iCAAyBjB,KAAKJ,MAAMsC,KAApC,KACAnB,EAAAC,EAAAC,cAAC4C,EAAD,CACEtB,QAASvC,KAAKI,MAAMmC,QACpBH,YAAapC,KAAKgD,mBAEnBhD,KAAKJ,MAAMkE,YACV/C,EAAAC,EAAAC,cAAA,UAAQc,QAAS/B,KAAKiD,kBAAtB,uBAjDUzB,IAAMC,WCApBsC,SAAe,CACnBC,EAAK,SACLC,EAAK,SACLC,EAAK,SACLC,EAAK,SACLC,EAAK,SACLC,EAAK,eAoGQC,cA9Eb,SAAAA,EAAY1E,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAsE,IACjBzE,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAwE,GAAAnE,KAAAH,KAAMJ,KACD2E,iBAAmB1E,EAAK0E,iBAAiBhE,KAAtBT,OAAAU,EAAA,EAAAV,CAAAD,IACxBA,EAAK2E,WAAa3E,EAAK2E,WAAWjE,KAAhBT,OAAAU,EAAA,EAAAV,CAAAD,IAHDA,gFAMF4E,GACfzE,KAAKJ,MAAM8E,aAAaD,sCAGfE,GACT3E,KAAKJ,MAAMgF,OAAOD,oCAOlB,IAJO,IAAAzB,EAAAlD,KACH6E,EAAQ,IAAIC,MAAM,IAGdC,EAAE,EAAGA,EAAE,EAAGA,IAChB,IAAI,IAAIC,EAAE,EAAGA,EAAE,EAAGA,IAAI,CACpB,IAAIC,EAAY,UAAYD,EAAE,EAAID,EAAE,GAAK,EAAI,YAAc,aAC3DF,EAAQ,EAAFE,EAAIC,GACRjE,EAAAC,EAAAC,cAAA,OACEE,MAAO8D,EACPC,MAAO,CACLC,WAAU,GAAAC,OAAKJ,EAAE,EAAP,KAAAI,OAAYJ,EAAE,GACxBK,QAAO,GAAAD,OAAKL,EAAE,EAAP,KAAAK,OAAYL,EAAE,MAM/B,IAAIO,EAAStF,KAAKJ,MAAM0F,OAAO9C,IAAI,SAAC+C,GAClC,IAAIC,EAASD,EAAME,OAAOC,WAAW,GAAK,IAAIA,WAAW,GAAK,EAC1DC,EAAM,IAAID,WAAW,GAAKH,EAAME,OAAOC,WAAW,GAClDE,EAA8B,MAAtBL,EAAMA,MAAMK,MAAgB,aAAe,aAEvD,OACE7E,EAAAC,EAAAC,cAAA,OACEE,MAAOyE,EACPV,MAAO,CACLC,WAAU,GAAAC,OAAKI,EAAL,KAAAJ,OAAeI,GACzBH,QAAO,GAAAD,OAAKO,EAAL,KAAAP,OAAYO,IACrB5D,QAASmB,EAAKqB,iBAAiBhE,KAAK,KAAM,CAACkF,OAAQF,EAAME,OAAQI,SAAS,KACzE9B,EAAawB,EAAMA,MAAMlE,SAI5ByE,EAAQ,KAoBZ,OAlBG9F,KAAKJ,MAAMkG,QACZA,EAAQ9F,KAAKJ,MAAMkG,MAAMtD,IAAI,SAACuD,GAC5B,IA3DetB,EA2DXuB,EAxDH,CAACR,QAHaf,EA2DWsB,EAAKE,IA1DfP,WAAW,GAAK,IAAIA,WAAW,GAAK,EAE1CC,IADN,IAAID,WAAW,GAAKjB,EAASiB,WAAW,IA0D5C,OACE3E,EAAAC,EAAAC,cAAA,OACEE,MAAM,OACN+D,MAAO,CACLgB,OAAQ,IACRf,WAAU,GAAAC,OAAKY,EAAMR,OAAX,KAAAJ,OAAqBY,EAAMR,QACrCH,QAAO,GAAAD,OAAKY,EAAML,IAAX,KAAAP,OAAkBY,EAAML,MACjC5D,QAASmB,EAAKsB,WAAWjE,KAAK,KAAKwF,EAAKE,IACxCtD,IAAG,QAAAyC,OAAUW,EAAKE,SAQxBlF,EAAAC,EAAAC,cAAA,OAAKE,MAAM,cACR0D,EACAS,EACU,OAAVQ,GAAkBA,UAzEFtE,IAAMC,WC4BhB0E,qBArDb,SAAAA,EAAYvG,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAAmG,IACjBtG,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAAqG,GAAAhG,KAAAH,KAAMJ,KACDiD,OAAShD,EAAKD,MAAMiD,OACzBhD,EAAKO,MAAQ,CACXgG,UAAWvG,EAAKD,MAAMyG,SAASD,UAC/BN,MAAO,MAGTjG,EAAK2E,WAAa3E,EAAK2E,WAAWjE,KAAhBT,OAAAU,EAAA,EAAAV,CAAAD,IAClBA,EAAK0E,iBAAmB1E,EAAK0E,iBAAiBhE,KAAtBT,OAAAU,EAAA,EAAAV,CAAAD,IACxByG,QAAQC,IAAI,WAAY1G,EAAKD,MAAMyG,SAAU,YAAaxG,EAAKD,MAAMkD,WAVpDjD,0EAaR8E,GAAY,IAAAzB,EAAAlD,KACrBsG,QAAQC,IAAI,cAAe5B,EAAa3E,KAAKI,MAAMoG,UACnDxG,KAAK6C,OAAOkD,KAAK,CAACU,KAAMzG,KAAKI,MAAMoG,SAASf,OAAQQ,GAAItB,IAAcvB,KAAK,SAAAC,GAAgB,IAAdgD,EAAchD,EAAdgD,SAC3EnD,EAAKvC,SAAS,CAACyF,UAAWC,EAASD,UAAWN,MAAO,KAAMU,SAAU,kDAIxDA,GACfF,QAAQC,IAAI,iBAAkBC,GADL,IAEnBV,EAAU9F,KAAK6C,OAAOiD,MAAMU,GAA5BV,MACN9F,KAAKW,SAAS,CAACmF,QAAOU,yDAGL,IAAAlD,EAAAtD,KACjBA,KAAK6C,OAAOc,iBAAiB,OAAQ,SAAAC,GAAgB,IAAdyC,EAAczC,EAAdyC,SACrC/C,EAAK3C,SAAS,CACZyF,UAAWC,EAASD,UACpBN,MAAO,KACPU,SAAU,0CAMd,OACEzF,EAAAC,EAAAC,cAAA,OAAKC,GAAG,YACNH,EAAAC,EAAAC,cAAA,OAAKC,GAAG,kBACNH,EAAAC,EAAAC,cAACyF,EAAD,CACEpB,OAAQtF,KAAKI,MAAMgG,UACnBN,MAAO9F,KAAKI,MAAM0F,MAClBpB,aAAc1E,KAAKuE,iBACnBK,OAAQ5E,KAAKwE,cAGjBzD,EAAAC,EAAAC,cAAA,OAAKC,GAAG,0BAhDGM,IAAMC,YCgHVkF,cA7Gb,SAAAA,EAAY/G,GAAO,IAAAC,EAAA,OAAAC,OAAAC,EAAA,EAAAD,CAAAE,KAAA2G,IACjB9G,EAAAC,OAAAG,EAAA,EAAAH,CAAAE,KAAAF,OAAAI,EAAA,EAAAJ,CAAA6G,GAAAxG,KAAAH,KAAMJ,KACDQ,MAAQ,CAACC,MAAO,GAAIuG,OAAQ,eAEjC/G,EAAKgH,eAAiBhH,EAAKgH,eAAetG,KAApBT,OAAAU,EAAA,EAAAV,CAAAD,IACtBA,EAAK8B,kBAAoB9B,EAAK8B,kBAAkBpB,KAAvBT,OAAAU,EAAA,EAAAV,CAAAD,IACzBA,EAAK+B,gBAAkB/B,EAAK+B,gBAAgBrB,KAArBT,OAAAU,EAAA,EAAAV,CAAAD,IAEvBA,EAAKiH,gBAAkBjH,EAAKiH,gBAAgBvG,KAArBT,OAAAU,EAAA,EAAAV,CAAAD,IARNA,8EAWJkH,GAAM,IAAA7D,EAAAlD,KACnBA,KAAKJ,MAAMiD,OAAOmE,SAASD,GAAM3D,KAAK,SAAC6D,GACrCC,OAAOvD,iBAAiB,eAAgBT,EAAKtD,MAAMiD,OAAOsE,OAC1C,OAAbF,GACD/D,EAAKvC,SAAS,CACZiG,OAAQ,cAGXQ,MAAM,wDAKOC,GAAW,IAAA/D,EAAAtD,KAC3BA,KAAKJ,MAAMiD,OAAOyE,YAAYD,GAAWjE,KAAK,SAAAC,GAAiB,IAAfP,EAAeO,EAAfP,UAC9CQ,EAAK3C,SAAS,CACZiG,OAAQ,UACRS,YACAvE,gBAEDsE,MAAM,sDAKKC,GAAU,IAAA3D,EAAA1D,KACxBA,KAAKJ,MAAMiD,OAAO0E,UAAUF,GAAWjE,KAAK,SAAAQ,GAAiB,IAAfd,EAAec,EAAfd,UAC5CY,EAAK/C,SAAS,CACZiG,OAAQ,SACRS,YACAvE,gBAEDsE,MAAM,yDAK2B,IAArBtE,EAAqB0E,EAArB1E,UAAWuD,EAAUmB,EAAVnB,SAC1BrG,KAAKW,SAAS,CACZiG,OAAQ,UACR9D,YACAuD,8CAMF,OAAQrG,KAAKI,MAAMwG,QACjB,IAAK,cACH,OACE7F,EAAAC,EAAAC,cAACwG,EAAD,CAAU5G,WAAYb,KAAK6G,iBAE/B,IAAK,UACH,OACE9F,EAAAC,EAAAC,cAACyG,EAAD,CACE7F,cAAe7B,KAAK2B,kBACpBG,YAAa9B,KAAK4B,kBAGxB,IAAK,UACH,OACEb,EAAAC,EAAAC,cAAC0G,EAAD,CACElE,YAAazD,KAAK8G,gBAClBhD,YAAY,EACZjB,OAAQ7C,KAAKJ,MAAMiD,OACnBX,KAAMlC,KAAKI,MAAMiH,UACjBvE,UAAW9C,KAAKI,MAAM0C,YAG5B,IAAK,SACH,OACE/B,EAAAC,EAAAC,cAAC0G,EAAD,CACElE,YAAazD,KAAK8G,gBAClBhD,YAAY,EACZjB,OAAQ7C,KAAKJ,MAAMiD,OACnBX,KAAMlC,KAAKI,MAAMiH,UACjBvE,UAAW9C,KAAKI,MAAM0C,YAG5B,IAAK,UACH,OACE/B,EAAAC,EAAAC,cAAC2G,EAAD,CACE/E,OAAQ7C,KAAKJ,MAAMiD,OACnBC,UAAW9C,KAAKI,MAAM0C,UACtBuD,SAAUrG,KAAKI,MAAMiG,WAI3B,QACA,OACEtF,EAAAC,EAAAC,cAAA,WACEF,EAAAC,EAAAC,cAAA,oCAvGQO,IAAMC,oCCClBoG,EAAY,IAAIC,aAAMC,EAAO,CAC/BC,UAAW,SAAUC,EAAQC,GACzB,IAAMC,EAAMrI,OAAAsI,EAAA,EAAAtI,CAAOmI,EAAPnI,OAAAuI,EAAA,EAAAvI,CAAiBoI,IAG7B,OADAC,EAAO/H,MAAQ,kBAAM+H,EAAOG,QAAQ9F,IAAI,SAACiD,GAAD,MAAa,CAACA,SAAQF,MAAO4C,EAAOI,IAAI9C,MAAW+C,OAAO,SAAC/C,GAAD,OAA2B,OAAfA,EAAOF,SAC9G4C,KAIXtF,EAAS4F,IAAa,CAACC,IAAK,oCAAqCC,cAAeC,UAAWzC,KAAM0B,IAErGgB,IAASC,OAAO/H,EAAAC,EAAAC,cAAC8H,EAAD,CAAKlG,OAAQA,IAAWmG,SAASC,eAAe","file":"static/js/main.acfbc74e.chunk.js","sourcesContent":["import React from 'react';\n\nclass NameForm extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {value: ''};\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleSubmit = this.handleSubmit.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({value: event.target.value});\n  }\n\n  handleSubmit(event) {\n    this.props.onRegister(this.state.value)\n    event.preventDefault();\n  }\n\n  render() {\n    return (\n      <div id=\"registration\">\n        <form class=\"smallForm loginForm\" onSubmit={this.handleSubmit}>\n          <input \n            type=\"text\" \n            class=\"inputText\" \n            value={this.state.value} \n            onChange={this.handleChange}\n            placeholder=\"Player Name\"\n          />\n          <input \n            type=\"submit\"\n            class=\"boton\"\n            value=\"Join Server\" />\n        </form>\n      </div>      \n    );  \n  }\n}\n\nexport default NameForm;\n","import React from 'react';\n\nclass LobbyBrowser extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {value: ''};\n\n    this.handleChange = this.handleChange.bind(this);\n    this.handleCreateLobby = this.handleCreateLobby.bind(this);\n    this.handleJoinLobby = this.handleJoinLobby.bind(this);\n  }\n\n  handleChange(event) {\n    this.setState({value: event.target.value});\n  }\n\n  handleCreateLobby(event) {\n    this.props.onCreateLobby(this.state.value)\n    event.preventDefault();\n  }\n\n  handleJoinLobby(event) {\n    this.props.onJoinLobby(this.state.value)\n    event.preventDefault();\n  }\n\n  render() {\n    return (\n      <div>\n        <h2>Lobby Browser</h2>\n        \n        <div class=\"smallForm\">\n          <input \n            type=\"text\"\n            class=\"inputText\"\n            placeholder=\"lobby name\"\n            value={this.state.value} \n            onChange={this.handleChange} />                       \n          <button \n            class=\"boton\"\n            onClick={this.handleCreateLobby}> \n            Create </button>\n          <button \n            class=\"boton\"\n            onClick={this.handleJoinLobby}> \n            Join </button>\n        </div>\n      </div>\n      \n    );  \n  }\n}\n\nexport default LobbyBrowser;\n","import React from 'react';\n\nfunction PlayerDetail(props) {\n  let rol\n  if(props.rol === 'w'){\n    rol = 'Whites'\n  }else if(props.rol === 'b'){\n    rol = 'Blacks'\n  }else{\n    rol = '--'\n  }\n\n  return (\n    <div> \n      <p>Name: {props.name}</p>\n      {(props.me ?         \n        <select onChange={props.onChooseRol}>\n          <option value=\"default\">--</option>\n          <option value=\"w\">Whites</option>\n          <option value=\"b\">Blacks</option>\n        </select> :\n        <p>Rol: {rol}</p>\n      )}      \n    </div>\n  )\n}\n\nexport default PlayerDetail;","import React from 'react';\nimport PlayerDetail from './PlayerDetail'\n\nfunction PlayerList(props) {\n  let playerList = props.players.map((player) =>\n    <PlayerDetail \n      key={player.name}\n      name={player.name}\n      rol={player.rol}\n      me={player.me}\n      onChooseRol={props.onChooseRol}/>\n  )\n  return <div>{playerList}</div>;\n}\n\nexport default PlayerList;","import React from 'react';\nimport PlayersList from './PlayersList';\n\nclass Lobby extends React.Component {\n  constructor(props) {\n    super(props);\n    this.client = this.props.client\n  \n    this.state = { \n      players: this.props.lobbyInfo.players,\n      creator: this.props.lobbyInfo.creator\n    };\n\n    this.chooseRolHandler = this.chooseRolHandler.bind(this)\n    this.startGameHandler = this.startGameHandler.bind(this)\n  }\n\n  chooseRolHandler(event){\n    this.client.chooseRol(event.target.value).then(({lobbyInfo: {players}}) => {\n      this.setState({\n        players\n      })\n    })\n  }\n\n  startGameHandler(){\n    this.client.startGame().then((info) => {\n      this.props.onGameStart(info)\n    })\n  }\n\n  componentDidMount(){\n    this.client.addEventListener('LOBBY-UPDATE', ({lobbyInfo}) => {\n      this.setState({\n        players: lobbyInfo.players\n      })\n    })\n\n    this.client.addEventListener('GAME-START', (lobbyInfo) => {\n      this.props.onGameStart(lobbyInfo)\n    })\n  }\n\n  render() {  \n    return (\n      <div>\n        <p>Estas en el lobby: - {this.props.name}!</p>\n        <PlayersList \n          players={this.state.players}\n          onChooseRol={this.chooseRolHandler}\n        />\n        {this.props.IamCreator && \n          <button onClick={this.startGameHandler}>Start Game!</button>\n        }\n      </div>\n    );  \n  }\n}\n\nexport default Lobby;\n","import React from 'react';\nimport '../styles/chessboard.css'\n\nconst pieceMapping = {\n  'r': '♜',\n  'n': '♞',\n  'b': '♝',\n  'q': '♛',\n  'k': '♚',\n  'p': '♟'\n}\n\n/**\n * Given a coordinate, returns the chess representation ((1,1) => 'a8')\n * @param {number} column \n * @param {number} row \n * @returns {string}\n */\nfunction coordsToChess(column, row) {\n  let newColumn = String.fromCharCode('a'.charCodeAt(0) + column)\n  let newRow = Math.abs(row-9)\n  return newColumn + newRow;\n}\n\nfunction chessToCoords(position){\n  let column = position.charCodeAt(0) - 'a'.charCodeAt(0) + 1;\n  let row = '9'.charCodeAt(0) - position.charCodeAt(1);\n  return {column, row};\n}\n\nclass ChessBoard extends React.Component {\n  constructor(props) {\n    super(props)\n    this.handleCheckMoves = this.handleCheckMoves.bind(this)\n    this.handleMove = this.handleMove.bind(this)\n  }\n\n  handleCheckMoves(position){    \n    this.props.onCheckMoves(position)\n  }\n\n  handleMove(destination) {\n    this.props.onMove(destination)\n  }\n\n  render() {\n    let cells = new Array(64)\n\n    // Color cells\n    for(let i=0; i<8; i++){\n      for(let j=0; j<8; j++){\n        let cellColor = \"cell \" + ((j%2 + i%2) % 2 ? \"cellWhite\" : \"cellBlack\");\n        cells[i*8+j] = \n          <div \n            class={cellColor}\n            style={{ \n              gridColumn: `${j+1}/${j+1}`,\n              gridRow: `${i+1}/${i+1}`\n            }}></div>\n      }\n    }  \n    \n    // Pieces\n    let pieces = this.props.pieces.map((piece) => {      \n      let column = piece.square.charCodeAt(0) - 'a'.charCodeAt(0) + 1;\n      let row = '9'.charCodeAt(0) - piece.square.charCodeAt(1)\n      let color = piece.piece.color === 'b' ? 'blackPiece' : 'whitePiece';\n      \n      return (\n        <div \n          class={color}\n          style={{ \n            gridColumn: `${column}/${column}`,\n            gridRow: `${row}/${row}` }}\n          onClick={this.handleCheckMoves.bind(null, {square: piece.square, verbose: true})}>\n          {pieceMapping[piece.piece.type]}</div>\n      )            \n    })\n\n    let moves = null;\n    // Moves\n    if(this.props.moves){\n      moves = this.props.moves.map((move) => {\n        let coord = chessToCoords(move.to)\n        return (\n          <div\n            class=\"move\"\n            style={{\n              zIndex: 100, \n              gridColumn: `${coord.column}/${coord.column}`,\n              gridRow: `${coord.row}/${coord.row}` }}\n            onClick={this.handleMove.bind(null,move.to)}\n            key={`move-${move.to}`}>            \n          </div>\n        )\n      })\n    }\n\n\n    return (\n      <div class=\"chessBoard\">\n        {cells}\n        {pieces}\n        {moves !== null && moves}\n      </div>\n    )\n  }\n}\n\nexport default ChessBoard;","import React from 'react';\nimport ChessBoard from  './ChessBoard'\nimport '../styles/gameroom.css'\n\nclass Game extends React.Component {\n  constructor(props) {\n    super(props);\n    this.client = this.props.client\n    this.state = { \n      gameState: this.props.gameInfo.gameState,\n      moves: null      \n    };\n\n    this.handleMove = this.handleMove.bind(this)\n    this.handleCheckMoves = this.handleCheckMoves.bind(this)\n    console.log('gameInfo', this.props.gameInfo, 'lobbyInfo', this.props.lobbyInfo)\n  }\n\n  handleMove(destination){\n    console.log('voy a mover', destination, this.state.selected)\n    this.client.move({from: this.state.selected.square, to: destination}).then(({gameInfo}) => {\n      this.setState({gameState: gameInfo.gameState, moves: null, selected: null})\n    })\n  }\n\n  handleCheckMoves(selected) {\n    console.log('voy a chequear', selected)\n    let { moves } = this.client.moves(selected)\n    this.setState({moves, selected})\n  }\n\n  componentDidMount(){\n    this.client.addEventListener('MOVE', ({gameInfo}) => {\n      this.setState({\n        gameState: gameInfo.gameState,\n        moves: null,\n        selected: null\n      })\n    })\n  }\n\n  render() {\n    return (\n      <div id=\"gameRoom\">\n        <div id=\"boardContainer\">\n          <ChessBoard \n            pieces={this.state.gameState}\n            moves={this.state.moves}\n            onCheckMoves={this.handleCheckMoves}\n            onMove={this.handleMove}>          \n          </ChessBoard>\n        </div>\n        <div id=\"infoContainer\"></div>\n      </div>\n    );  \n  }\n}\n\nexport default Game;\n","import React from 'react';\nimport NameForm from './NameForm'\nimport LobbyBrowser from './LobbyBrowser/LobbyBrowser';\nimport Lobby from './Lobby/Lobby';\nimport Game from './Game/Game';\n\nclass App extends React.Component {\n  constructor(props) {\n    super(props);\n    this.state = {value: '', status: 'registering'};\n    \n    this.handleRegister = this.handleRegister.bind(this);\n    this.handleCreateLobby = this.handleCreateLobby.bind(this);\n    this.handleJoinLobby = this.handleJoinLobby.bind(this)\n\n    this.handleGameStart = this.handleGameStart.bind(this)\n  }\n\n  handleRegister(user) {    \n    this.props.client.register(user).then((response) => {\n      window.addEventListener('beforeunload', this.props.client.leave)\n      if(response === 'OK'){\n        this.setState({\n          status: 'looking'\n        })\n      }\n    }).catch(() => {\n      \n    })\n  }\n\n  handleCreateLobby(lobbyName) {\n    this.props.client.createLobby(lobbyName).then(({lobbyInfo}) => {\n      this.setState({\n        status: 'hosting',\n        lobbyName,\n        lobbyInfo\n      })\n    }).catch(() => {\n      \n    })\n  }\n\n  handleJoinLobby(lobbyName){    \n    this.props.client.joinLobby(lobbyName).then(({lobbyInfo}) => {\n      this.setState({\n        status: 'joined',\n        lobbyName,\n        lobbyInfo\n      })\n    }).catch(() => {\n      \n    })\n  }\n\n  handleGameStart({lobbyInfo, gameInfo}){\n    this.setState({\n      status: 'playing',\n      lobbyInfo,\n      gameInfo     \n    })\n  }\n\n\n  render() {\n    switch (this.state.status) {\n      case 'registering':\n        return(\n          <NameForm onRegister={this.handleRegister}/>\n        )\n      case 'looking':\n        return(\n          <LobbyBrowser \n            onCreateLobby={this.handleCreateLobby}\n            onJoinLobby={this.handleJoinLobby}\n          />\n        )\n      case 'hosting':\n        return(\n          <Lobby\n            onGameStart={this.handleGameStart}\n            IamCreator={true}\n            client={this.props.client}\n            name={this.state.lobbyName}\n            lobbyInfo={this.state.lobbyInfo} \n          />\n        )\n      case 'joined':\n        return(\n          <Lobby\n            onGameStart={this.handleGameStart}\n            IamCreator={false}\n            client={this.props.client}\n            name={this.state.lobbyName} \n            lobbyInfo={this.state.lobbyInfo}            \n          />\n        )\n      case 'playing':\n        return(\n          <Game\n            client={this.props.client}\n            lobbyInfo={this.state.lobbyInfo}\n            gameInfo={this.state.gameInfo}\n          />\n        )\n      \n      default:\n      return (\n        <div>\n          <p>Algo se rompio</p>\n        </div>\n      )\n    }      \n  }\n}\n\nexport default App;\n","import React from 'react';\nimport ReactDOM from 'react-dom';\nimport './index.css';\nimport App from './App'\nimport UmpireClient from '@mgonnet/umpire-client'\nimport Chess from 'chess.js'\n\nconst FakeChess = new Proxy(Chess, {\n    construct: function (Target, args) {\n        const myFake = new Target(...args)\n        // @ts-ignore\n        myFake.state = () => myFake.SQUARES.map((square) => ({square, piece: myFake.get(square)})).filter((square) => square.piece!==null)\n        return myFake\n    }\n})\n\nlet client = UmpireClient({url: 'wss://umpire-chess.herokuapp.com/', WSConstructor: WebSocket, Game: FakeChess})\n\nReactDOM.render(<App client={client}/>, document.getElementById('root'));"],"sourceRoot":""}